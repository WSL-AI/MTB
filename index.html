<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Моя первая зарплатная карта - МТБанк</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/FBXLoader.js"></script>
</head>
<body class="theme-ocean">
    <div class="theme-switcher">
        <div class="theme-switcher__panel">
            <span class="theme-switcher__label">Тема:</span>
            <button type="button" class="theme-option active" data-theme="ocean" aria-pressed="true">
                <span class="theme-swatch"></span>
                <span>Океан</span>
            </button>
            <button type="button" class="theme-option" data-theme="forest" aria-pressed="false">
                <span class="theme-swatch"></span>
                <span>Лес</span>
            </button>
            <button type="button" class="theme-option" data-theme="sunset" aria-pressed="false">
                <span class="theme-swatch"></span>
                <span>Закат</span>
            </button>
            <button type="button" class="theme-option" data-theme="berry" aria-pressed="false">
                <span class="theme-swatch"></span>
                <span>Ягоды</span>
            </button>
        </div>
    </div>
    <div id="app">
        <!-- Начальный экран выбора категорий -->
        <div id="welcome-screen" class="screen active">
            <div class="container">
                <div class="header">
                    <div class="logo">
                        <i class="fas fa-credit-card"></i>
                        <span>МТБанк</span>
                    </div>
                    <h1>Моя первая зарплатная карта</h1>
                    <p>Выберите категории, которые вас интересуют, чтобы получать максимальный кешбэк!</p>
                </div>
                
                <div class="categories-grid">
                    <div class="category-card" data-category="food">
                        <i class="fas fa-utensils"></i>
                        <span>Еда и рестораны</span>
                    </div>
                    <div class="category-card" data-category="shopping">
                        <i class="fas fa-shopping-bag"></i>
                        <span>Шопинг</span>
                    </div>
                    <div class="category-card" data-category="entertainment">
                        <i class="fas fa-film"></i>
                        <span>Развлечения</span>
                    </div>
                    <div class="category-card" data-category="transport">
                        <i class="fas fa-car"></i>
                        <span>Транспорт</span>
                    </div>
                    <div class="category-card" data-category="health">
                        <i class="fas fa-heartbeat"></i>
                        <span>Здоровье</span>
                    </div>
                    <div class="category-card" data-category="education">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Образование</span>
                    </div>
                    <div class="category-card" data-category="sports">
                        <i class="fas fa-dumbbell"></i>
                        <span>Спорт</span>
                    </div>
                    <div class="category-card" data-category="beauty">
                        <i class="fas fa-spa"></i>
                        <span>Красота</span>
                    </div>
                </div>
                
                <div class="nickname-section">
                    <h3>Придумайте уникальный никнейм</h3>
                    <div class="input-group">
                        <input type="text" id="nickname-input" placeholder="Введите ваш никнейм" maxlength="20">
                        <button id="check-nickname" class="btn-secondary">
                            <i class="fas fa-check"></i>
                        </button>
                    </div>
                    <div id="nickname-status"></div>
                </div>
                
                <button id="continue-btn" class="btn-primary" disabled>
                    Продолжить
                    <i class="fas fa-arrow-right"></i>
                </button>
                <p class="continue-hint">Выберите категории и введите никнейм для продолжения</p>
            </div>
        </div>

        <!-- Главный экран приложения -->
        <div id="main-screen" class="screen">
            <div class="container">
                <!-- Навигация -->
                <nav class="navbar">
                    <div class="nav-item active" data-tab="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Главная</span>
                    </div>
                    <div class="nav-item" data-tab="card">
                        <i class="fas fa-credit-card"></i>
                        <span>Карта</span>
                    </div>
                    <div class="nav-item" data-tab="deposits">
                        <i class="fas fa-piggy-bank"></i>
                        <span>Вклады</span>
                    </div>
                    <div class="nav-item" data-tab="analytics">
                        <i class="fas fa-chart-line"></i>
                        <span>Аналитика</span>
                    </div>
                    <div class="nav-item" data-tab="coffee">
                        <i class="fas fa-coffee"></i>
                        <span>Кофе</span>
                    </div>
                    <div class="nav-item" data-tab="tasks">
                        <i class="fas fa-tasks"></i>
                        <span>Задания</span>
                    </div>
                    <div class="nav-item" data-tab="profile">
                        <i class="fas fa-user"></i>
                        <span>Профиль</span>
                    </div>
                </nav>

                <!-- Дашборд -->
                <div id="dashboard-tab" class="tab-content active">
                    <div class="dashboard-header">
                        <div class="user-info">
                            <h2>Привет, <span id="user-nickname">Пользователь</span>!</h2>
                            <div class="level-info">
                                <div class="level-badge">
                                    <i class="fas fa-star"></i>
                                    <span>Уровень <span id="user-level">1</span></span>
                                </div>
                                <div class="xp-bar">
                                    <div class="xp-progress" id="xp-progress"></div>
                                </div>
                            </div>
                        </div>
                        <div class="streak-info">
                            <div class="streak-fire">
                                <i class="fas fa-fire"></i>
                                <span id="streak-count">0</span>
                            </div>
                            <p>Дней подряд</p>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-coffee"></i>
                            <div class="stat-info">
                                <h3 id="coffee-count">0</h3>
                                <p>Чашек кофе</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-coins"></i>
                            <div class="stat-info">
                                <h3 id="cashback-earned">0 ₽</h3>
                                <p>Кешбэк заработано</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-piggy-bank"></i>
                            <div class="stat-info">
                                <h3 id="savings-amount">0 ₽</h3>
                                <p>Накоплено</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-trophy"></i>
                            <div class="stat-info">
                                <h3 id="achievements-count">0</h3>
                                <p>Достижений</p>
                            </div>
                        </div>
                    </div>

                    <div class="quick-actions">
                        <button class="action-btn" id="buy-coffee-btn">
                            <i class="fas fa-coffee"></i>
                            <span>Купить кофе</span>
                        </button>
                        <button class="action-btn" id="simulate-transaction-btn">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Совершить транзакцию</span>
                        </button>
                    </div>
                </div>

                <!-- Карта -->
                <div id="card-tab" class="tab-content">
                    <div class="card-customization">
                        <h3>Настройка карты</h3>
                        <div class="card-preview">
                            <div class="bank-card" id="preview-card">
                                <div class="card-background"></div>
                                <div class="card-content">
                                    <div class="card-logo">
                                        <i class="fas fa-credit-card"></i>
                                        <span>МТБанк</span>
                                    </div>
                                    <div class="card-number">**** **** **** 1234</div>
                                    <div class="card-holder">
                                        <span id="card-nickname">Ваш никнейм</span>
                                    </div>
                                    <div class="card-photo">
                                        <i class="fas fa-user"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="customization-options">
                            <div class="option-group">
                                <label>Загрузить фото</label>
                                <input type="file" id="photo-upload" accept="image/*">
                            </div>
                            
                            <div class="option-group">
                                <label>Цвет карты</label>
                                <div class="color-options">
                                    <div class="color-option active" data-color="#6366f1"></div>
                                    <div class="color-option" data-color="#ef4444"></div>
                                    <div class="color-option" data-color="#10b981"></div>
                                    <div class="color-option" data-color="#f59e0b"></div>
                                    <div class="color-option" data-color="#8b5cf6"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Вклады -->
                <div id="deposits-tab" class="tab-content">
                    <div class="deposits-section">
                        <div class="deposits-summary-grid">
                            <div class="deposit-summary-card">
                                <span class="summary-label">Всего на вкладах</span>
                                <span class="summary-value" id="deposits-total">0 BYN</span>
                                <span class="summary-meta">В этом месяце начислится <span id="deposits-monthly-income">0 BYN</span></span>
                            </div>
                            <div class="deposit-summary-card">
                                <span class="summary-label">Средняя ставка</span>
                                <span class="summary-value" id="deposits-average-rate">0%</span>
                                <span class="summary-meta">Начислено процентов: <span id="deposits-interest-earned">0 BYN</span></span>
                            </div>
                            <div class="deposit-summary-card">
                                <span class="summary-label">Ближайшее начисление</span>
                                <span class="summary-value" id="deposits-next-payout-summary">—</span>
                                <span class="summary-meta">Следите за пополнениями и капитализацией</span>
                            </div>
                        </div>

                        <div class="deposits-content">
                            <div class="deposits-list">
                                <div class="deposits-list-header">
                                    <h3>Активные вклады</h3>
                                    <button class="btn-secondary" id="open-deposit-btn">
                                        <i class="fas fa-plus"></i>
                                        Открыть новый вклад
                                    </button>
                                </div>
                                <div id="deposit-list" class="deposit-cards"></div>
                            </div>

                            <aside class="deposits-side">
                                <div class="payouts-card">
                                    <h4>Ближайшие выплаты</h4>
                                    <p class="payouts-note">Следующие начисления процентов по вашим вкладам</p>
                                    <div id="deposit-payouts" class="payouts-list"></div>
                                </div>
                                <div class="insights-card">
                                    <h4>Советы банкира</h4>
                                    <ul id="deposit-recommendations" class="recommend-list"></ul>
                                </div>
                            </aside>
                        </div>
                    </div>
                </div>

                <!-- Аналитика -->
                <div id="analytics-tab" class="tab-content">
                    <div class="analytics-section">
                        <div class="analytics-summary">
                            <div class="analytics-summary-card">
                                <span class="summary-label">Траты за месяц</span>
                                <span class="summary-value" id="analytics-total-spent">0 BYN</span>
                                <span class="summary-meta">Бюджет: <span id="analytics-budget">0 BYN</span></span>
                            </div>
                            <div class="analytics-summary-card">
                                <span class="summary-label">Экономия</span>
                                <span class="summary-value" id="analytics-savings-rate">0%</span>
                                <span class="summary-meta">Отложено: <span id="analytics-savings-amount">0 BYN</span></span>
                            </div>
                            <div class="analytics-summary-card">
                                <span class="summary-label">Активных подписок</span>
                                <span class="summary-value" id="analytics-active-subscriptions">0</span>
                                <span class="summary-meta">Сумма в месяц: <span id="analytics-subscription-total">0 BYN</span></span>
                            </div>
                        </div>

                        <div class="analytics-content">
                            <div class="analytics-card">
                                <div class="analytics-card__header">
                                    <h3>Структура трат</h3>
                                    <span class="analytics-caption">за последние 30 дней</span>
                                </div>
                                <div id="analytics-category-chart" class="category-chart"></div>
                            </div>

                            <div class="analytics-card">
                                <div class="analytics-card__header">
                                    <h3>Динамика по неделям</h3>
                                    <span class="analytics-caption">Сравнение с прошлым месяцем</span>
                                </div>
                                <div id="analytics-weekly-trend" class="trend-chart"></div>
                            </div>

                            <div class="analytics-sidecard">
                                <h4>Подписки и сервисы</h4>
                                <div id="analytics-subscriptions" class="subscription-list"></div>
                                <h4>Что можно улучшить</h4>
                                <ul id="analytics-recommendations" class="recommend-list"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Кофе -->
                <div id="coffee-tab" class="tab-content">
                    <div class="coffee-section">
                        <h3>Виртуальный кофе</h3>
                        
                        <div class="coffee-info">
                            <h4>Купить кофе за 3 BYN</h4>
                            <p>Деньги автоматически переведутся на сберегательный счет</p>
                            
                            <div class="savings-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="savings-progress"></div>
                                </div>
                                <p>Накоплено: <span id="savings-total">0 BYN</span></p>
                            </div>
                            
                            <button class="btn-primary" id="buy-coffee-main-btn">
                                <i class="fas fa-coffee"></i>
                                Купить кофе
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Задания -->
                <div id="tasks-tab" class="tab-content">
                    <div class="tasks-section">
                        <h3>Ежедневные задания</h3>
                        
                        <div class="tasks-list">
                            <div class="task-item" data-task="login">
                                <div class="task-icon">
                                    <i class="fas fa-sign-in-alt"></i>
                                </div>
                                <div class="task-content">
                                    <h4 class="task-title">Зайти в приложение</h4>
                                    <p class="task-description">Откройте приложение хотя бы один раз в день</p>
                                </div>
                                <div class="task-reward">+10 баллов</div>
                                <div class="task-checkbox checked"></div>
                            </div>
                            
                            <div class="task-item" data-task="coffee">
                                <div class="task-icon">
                                    <i class="fas fa-coffee"></i>
                                </div>
                                <div class="task-content">
                                    <h4 class="task-title">Купить виртуальный кофе</h4>
                                    <p class="task-description">Потратьте 3 BYN на виртуальный кофе</p>
                                </div>
                                <div class="task-reward">+15 баллов</div>
                                <div class="task-checkbox"></div>
                            </div>
                            
                            <div class="task-item" data-task="transaction">
                                <div class="task-icon">
                                    <i class="fas fa-exchange-alt"></i>
                                </div>
                                <div class="task-content">
                                    <h4 class="task-title">Совершить транзакцию</h4>
                                    <p class="task-description">Используйте карту для покупки или перевода</p>
                                </div>
                                <div class="task-reward">+20 баллов</div>
                                <div class="task-checkbox"></div>
                            </div>
                        </div>
                        
                        <div class="streak-rewards">
                            <h4>Награды за страйк</h4>
                            <p class="streak-info-text">Выполняйте все 3 ежедневных задания подряд для поддержания страйка</p>
                            <div class="rewards-list">
                                <div class="reward-item">
                                    <span class="reward-days">7 дней</span>
                                    <span class="reward-text">+1% кешбэк на все покупки</span>
                                </div>
                                <div class="reward-item">
                                    <span class="reward-days">14 дней</span>
                                    <span class="reward-text">+2% кешбэк на все покупки</span>
                                </div>
                                <div class="reward-item">
                                    <span class="reward-days">30 дней</span>
                                    <span class="reward-text">+3% кешбэк + скидки в партнерских магазинах</span>
                                </div>
                                <div class="reward-item">
                                    <span class="reward-days">100 дней</span>
                                    <span class="reward-text">+4% кешбэк + эксклюзивные предложения</span>
                                </div>
                                <div class="reward-item">
                                    <span class="reward-days">365 дней</span>
                                    <span class="reward-text">+5% кешбэк + выбор подарка от МТБанка</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Профиль -->
                <div id="profile-tab" class="tab-content">
                    <div class="profile-section">
                        <div class="profile-header">
                            <div class="profile-photo">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="profile-info">
                                <h3 id="profile-nickname">Пользователь</h3>
                                <p>Уровень <span id="profile-level">1</span></p>
                            </div>
                        </div>
                        
                        <div class="profile-stats">
                            <div class="stat-item">
                                <span class="stat-label">Всего кофе</span>
                                <span class="stat-value" id="profile-coffee">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Страйк</span>
                                <span class="stat-value" id="profile-streak">0 дней</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Кешбэк</span>
                                <span class="stat-value" id="profile-cashback">0 ₽</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Накопления</span>
                                <span class="stat-value" id="profile-savings">0 ₽</span>
                            </div>
                        </div>
                        
                        <div class="achievements">
                            <h4>Достижения</h4>
                            <div class="achievements-grid">
                                <div class="achievement-item">
                                    <i class="fas fa-coffee"></i>
                                    <span>Первая чашка</span>
                                </div>
                                <div class="achievement-item">
                                    <i class="fas fa-fire"></i>
                                    <span>Неделя страйка</span>
                                </div>
                                <div class="achievement-item">
                                    <i class="fas fa-star"></i>
                                    <span>Уровень 5</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна -->
    <div id="coffee-modal" class="modal">
        <div class="modal-content">
            <div class="coffee-animation">
                <div class="coffee-cup-3d" id="coffee-cup-3d">
                    <div class="cup"></div>
                    <div class="coffee"></div>
                    <div class="steam-animation"></div>
                </div>
            </div>
            <h3>Кофе куплен!</h3>
            <p>3 BYN переведены на сберегательный счет</p>
            <button class="btn-primary" id="close-coffee-modal">Отлично!</button>
        </div>
    </div>

                </div>
        </div>

        <!-- 3D Coffee Animation Container -->
        <div id="coffee-3d-container" class="coffee-3d-container">
            <canvas id="coffee-canvas"></canvas>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>


